---
title: "Batch Text-to-Speech"
description: "Process long text efficiently with automatic chunking"
api: "POST /tts/batch"
---

## Overview

Process long text efficiently by automatically splitting it into chunks and combining the audio with pauses between segments. Ideal for long-form content like articles, books, or documentation.

<Endpoint method="post" url="/tts/batch" />

## Request Body

<ParamField body="text" type="string" required>
  The text to convert to speech. **Maximum length: 50,000 characters**. For text longer than this limit, split it into multiple requests or use the streaming endpoint.
</ParamField>

<ParamField body="language" type="string" default="en">
  Language code (e.g., "en", "es", "fr")
</ParamField>

<ParamField body="pause_duration" type="number" default="800">
  Pause duration in milliseconds between text segments
</ParamField>

<ParamField body="api_key" type="string" required>
  Your GistMag API key
</ParamField>

## Example Request

```bash
curl -X POST https://api.gistmag.co.uk/tts/batch \
  -H "Content-Type: application/json" \
  -d '{
    "text": "This is a very long text that will be automatically split into chunks...",
    "language": "en",
    "pause_duration": 800,
    "api_key": "your_api_key_here"
  }' \
  --output output.mp3
```

## Text Length Limits

- **Maximum**: 50,000 characters per request
- **Recommended**: For text longer than 50,000 characters, split it into multiple batch requests or use the [streaming endpoint](/api-reference/tts/stream)
- **Processing Time**: Approximately 1 second per 1,000 characters (e.g., 50,000 characters â‰ˆ 1 minute)

<Warning>
  Requests exceeding 50,000 characters will return a 400 error. For very long content, consider splitting it into multiple requests or using the streaming endpoint for real-time playback.
</Warning>

## How It Works

1. **Text Splitting**: Text is automatically split at sentence boundaries (`.`, `!`, `?`) into chunks of up to 250 characters, keeping sentences intact
2. **Sequential Processing**: Each segment is processed independently and saved to temporary files
3. **Memory-Efficient Combining**: Audio segments are combined in batches to prevent memory exhaustion, then merged into a single file
4. **Combining with Pauses**: Audio segments are combined sequentially with configurable pauses (default 800ms) between them for natural breaks
5. **Normalization**: Final audio is normalized for consistent volume across all segments
6. **Single Output**: Exported as a single high-quality MP3 file (192k bitrate)

## When to Use Batch Processing

**Use batch processing when:**
- You need a **single complete MP3 file** for download
- Processing **long-form content** (articles, books, documentation, audiobooks)
- You want **natural pauses** between text segments
- You prefer **higher quality audio** (192k bitrate)
- You're creating content for **offline playback**

**Don't use batch when:**
- You need **real-time/low latency** playback (use streaming instead)
- You want audio to start playing **immediately** (use streaming instead)

## Response

The response is a single MP3 audio file containing the complete text with natural pauses.

**Content-Type**: `audio/mpeg`

**Content-Disposition**: `attachment; filename=chapter.mp3`

### Processing Time

Processing time scales with text length:
- **Small text** (< 10,000 chars): ~10-30 seconds
- **Medium text** (10,000-30,000 chars): ~30-60 seconds
- **Large text** (30,000-50,000 chars): ~1-1.5 minutes

The API does not enforce request timeouts, so requests will wait as long as needed for processing to complete.

### Error Responses

**400 Bad Request** - Text exceeds maximum length:
```json
{
  "error": "Text is too long for batch processing. Maximum is 50,000 characters. Your text has 75,000 characters.",
  "text_length": 75000,
  "max_length": 50000,
  "suggestion": "Please split your text into smaller chunks or use the streaming endpoint for very long text."
}
```

## Credit Cost

**1 credit per 1,000 characters**, with a **minimum of 1 credit** for any request.

### Examples:
- 10 characters = **1 credit** (minimum charge)
- 500 characters = **1 credit** (minimum charge)
- 1,000 characters = **1 credit**
- 2,500 characters = **3 credits** (rounded up)
- 10,000 characters = **10 credits**
- 30,000 characters = **30 credits**
- 50,000 characters = **50 credits** (maximum)

## Example Usage

### Python

```python
import requests

response = requests.post(
    "https://api.gistmag.co.uk/tts/batch",
    json={
        "text": "Very long text here...",
        "language": "en",
        "pause_duration": 800,
        "api_key": "your_api_key_here"
    }
)

with open("output.mp3", "wb") as f:
    f.write(response.content)
```

## Best Practices

1. **For very long content** (> 50,000 characters): Split into multiple batch requests or use streaming
2. **Concurrent requests**: Multiple batch requests can be processed simultaneously - no need to wait for one to complete
3. **Monitor progress**: Use the dashboard to track processing status for long batches
4. **Error handling**: Always check for 400 errors indicating text length limits
5. **No timeout**: The API does not enforce request timeouts, so requests will wait as long as needed

<Info>
  Batch processing is more efficient for long text as it handles chunking and combining automatically, ensuring natural pauses between sentences. The 50,000 character limit ensures reliable processing and prevents server overload. Files are automatically cleaned up after download to save disk space. Multiple users can process batches concurrently without any restrictions.
</Info>

